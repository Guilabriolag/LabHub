<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>LABRIOLAG | MASTER OS</title>
  <link rel="stylesheet" href="../lab_dir/dna-style.css">
  <style>
    body { display: flex; height: 100vh; overflow: hidden; margin: 0; }
    
    /* Menu Lateral */
    .sidebar { 
        width: 250px; background: rgba(0,0,0,0.4); 
        backdrop-filter: blur(20px); border-right: 1px solid var(--border);
        display: flex; flex-direction: column; overflow-y: auto;
    }

    .sidebar-header { padding: 20px; text-align: center; border-bottom: 1px solid var(--border); }

    .nav-item { 
        padding: 15px 20px; color: #ccc; text-decoration: none; 
        font-size: 11px; border-bottom: 1px solid rgba(255,255,255,0.02);
        transition: 0.3s; display: flex; align-items: center; gap: 10px;
    }
    .nav-item:hover { background: rgba(0, 119, 182, 0.1); color: var(--azul-glow); }
    .nav-item.active { background: var(--azul-lab); color: white; border-left: 4px solid var(--azul-glow); }

    /* Área de Conteúdo */
    .main-content { flex: 1; position: relative; display: flex; flex-direction: column; }
    
    #content-frame { 
        width: 100%; height: 100%; border: none; 
        background: transparent;
    }

    /* Scrollbar Customizada para a Sidebar */
    .sidebar::-webkit-scrollbar { width: 4px; }
    .sidebar::-webkit-scrollbar-thumb { background: var(--azul-lab); }
  </style>
</head>
<body class="lab-bg">

  <aside class="sidebar">
    <div class="sidebar-header">
        <h2 class="lab-title" style="font-size: 1.2rem;">LABRIOLAG</h2>
        <small style="opacity: 0.5; font-size: 9px;">MASTER CONTROL UNIT</small>
    </div>
    
    <nav id="menu-links">
        <a href="./modules/01_auth.html" target="stage" class="nav-item"><span>01</span> AUTH_CORE</a>
        <a href="./modules/02_users.html" target="stage" class="nav-item"><span>02</span> USERS</a>
        <a href="./modules/03_clients.html" target="stage" class="nav-item"><span>03</span> CLIENTS</a>
        <a href="./modules/04_projects.html" target="stage" class="nav-item"><span>04</span> PROJECTS</a>
        <a href="./modules/05_core-hub.html" target="stage" class="nav-item"><span>05</span> CORE_HUB</a>
        <a href="./modules/06_kv_store.html" target="stage" class="nav-item"><span>06</span> KV_STORE</a>
        <a href="./modules/07_data_models.html" target="stage" class="nav-item"><span>07</span> DATA_MODELS</a>
        <a href="./modules/08_apis.html" target="stage" class="nav-item"><span>08</span> APIS_GATEWAY</a>
        <a href="./modules/09_automations.html" target="stage" class="nav-item"><span>09</span> AUTOMATIONS</a>
        <a href="./modules/10_industries.html" target="stage" class="nav-item"><span>10</span> INDUSTRIES</a>
        <a href="./modules/11_monetization.html" target="stage" class="nav-item"><span>11</span> MONETIZATION</a>
        <a href="./modules/12_revenue.html" target="stage" class="nav-item"><span>12</span> REVENUE_SIM</a>
        <a href="./modules/13_logs.html" target="stage" class="nav-item"><span>13</span> LOGS</a>
        <a href="./modules/14_metrics.html" target="stage" class="nav-item"><span>14</span> METRICS</a>
        <a href="./modules/15_deploy.html" target="stage" class="nav-item"><span>15</span> DEPLOY</a>
        <a href="./modules/16_security.html" target="stage" class="nav-item"><span>16</span> SECURITY</a>
        <a href="./modules/17_dev_tools.html" target="stage" class="nav-item"><span>17</span> DEV_TOOLS</a>
    </nav>
  </aside>

  <main class="main-content">
    <iframe name="stage" id="content-frame" src="./modules/17_dev_tools.html"></iframe>
  </main>

  <script>
    // Lógica para marcar o item ativo no menu
    const links = document.querySelectorAll('.nav-item');
    links.forEach(link => {
        link.addEventListener('click', function() {
            links.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
        });
    });
    document.querySelectorAll('.nav-item').forEach(link => {
    link.addEventListener('click', function(e) {
        // Pega o caminho do link
        const url = this.getAttribute('href');
        console.log("Tentando carregar módulo em: " + url);
        
        // Verifica se o link é válido antes de tentar abrir no iframe
        fetch(url).then(response => {
            if (response.status === 404) {
                console.error("ERRO 404: O arquivo " + url + " não foi encontrado no servidor.");
                alert("Módulo não encontrado: Verifique se o arquivo existe na pasta /LabHub/modules/");
            }
        }).catch(err => console.log("Erro de conexão ou CORS ao validar link."));
    });
});
  </script>
  
</body>
</html>
