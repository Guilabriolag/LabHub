<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <script src="./lab_dir/core-auth.js"></script>
    <script>checkAccess();</script> ... seus outros links ...
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Master Console | LABRIOLAG</title>
    <link rel="stylesheet" href="lab_dir/dna-style.css">
    <style>
        #main-stage {
            display: none;
            width: 100%;
            height: calc(100vh - 155px);
            border: none;
            background: transparent;
        }
        
        .header-app {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 75px;
        }

        .hidden { display: none !important; }
        
        .active-title {
            color: var(--azul-glow) !important;
            text-shadow: 0 0 10px rgba(0, 242, 255, 0.5);
        }

        /* Garante que o container da grade permita scroll se houver muitos bot√µes */
        .app-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 100px;
        }
    </style>
    </head>
<body>

    <div class="app-view" style="display: flex; flex-direction: column; height: 100vh;">
        <header class="header-app">
            <div>
                <h2 id="page-title" style="margin:0; font-size: 22px;">Ol√°, Guilherme</h2>
                <p id="sub-title" style="font-size: 11px; opacity: 0.5; margin: 0;">Bem-vindo ao Master Control</p>
            </div>
            <button onclick="goHome()" id="back-btn" class="hidden" 
                    style="background:rgba(255,255,255,0.1); border:1px solid var(--azul-glow); color:var(--azul-glow); border-radius:12px; padding: 8px 15px; font-weight: bold;">
                Voltar
            </button>
        </header>

        <iframe name="stage" id="main-stage"></iframe>

        <div id="module-grid-container" class="app-container">
            <div class="module-grid">
                
                <a href="modules/01_auth.html" target="stage" onclick="openModule('Seguran√ßa', '01_AUTH_CORE')" class="app-card">
                    <h3>Seguran√ßa</h3>
                    <span class="value">Ativo</span>
                    <small style="color:var(--azul-glow); font-size:9px;">#0017 GLOW</small>
                </a>

                <a href="modules/12_revenue.html" target="stage" onclick="openModule('Financeiro', '12_REVENUE_SIM')" class="app-card">
                    <h3>Financeiro</h3>
                    <span class="value">R$ 32.000</span>
                    <small style="opacity:0.4; font-size:9px;">#10.017</small>
                </a>

                <a href="modules/02_users.html" target="stage" onclick="openModule('Usu√°rios', '02_USERS_DB')" class="app-card">
                    <h3>Usu√°rios</h3>
                    <span class="value">Gerenciar</span>
                    <small style="opacity:0.4; font-size:9px;">DB_ACCESS</small>
                </a>

                <a href="modules/06_kv_store.html" target="stage" onclick="openModule('Database', '06_KV_STORE')" class="app-card">
                    <h3>KV Store</h3>
                    <span class="value">Sincronizado</span>
                    <small style="color:#00ff88; font-size:9px;">LIVE_SYNC</small>
                </a>

                <a href="modules/10_industries.html" target="stage" onclick="openModule('Ind√∫strias', '10_INDUSTRIES')" class="app-card">
                    <h3>Ind√∫strias</h3>
                    <span class="value">Setores</span>
                    <small style="opacity:0.4; font-size:9px;">CONFIG_MAP</small>
                </a>

                <a href="modules/13_logs.html" target="stage" onclick="openModule('Logs', '13_SYSTEM_LOGS')" class="app-card">
                    <h3>Logs</h3>
                    <span class="value">Monitor</span>
                    <small style="color:var(--azul-glow); font-size:9px;">STREAMING</small>
                </a>

                <a href="modules/17_dev_tools.html" target="stage" onclick="openModule('Configura√ß√µes', '17_DEV_TOOLS')" class="app-card">
                    <h3>DevTools</h3>
                    <span class="value">Acesso Root</span>
                    <small style="opacity:0.4; font-size:9px;">LAB_OS</small>
                </a>

                <div class="app-card" style="grid-column: span 2; text-align: center; border-style: dashed; opacity: 0.7;">
                    <div class="loader" style="margin: 0 auto 10px;"></div>
                    <p style="font-size: 11px; margin: 0;">Sincronizado com LAB_EDGE</p>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <a href="javascript:void(0)" onclick="goHome()" class="nav-link active" id="nav-home">
                <i>üè†</i>In√≠cio
            </a>
            <a href="modules/11_monetization.html" target="stage" onclick="openModule('Faturas', '11_BILLING')" class="nav-link">
                <i>üìÑ</i>Faturas
            </a>
            <a href="modules/17_dev_tools.html" target="stage" onclick="openModule('Servi√ßos', '17_SERVICES')" class="nav-link">
                <i>‚öôÔ∏è</i>Servi√ßos
            </a>
        </nav>
    </div>

    <script>
        const stage = document.getElementById('main-stage');
        const grid = document.getElementById('module-grid-container');
        const title = document.getElementById('page-title');
        const subTitle = document.getElementById('sub-title');
        const backBtn = document.getElementById('back-btn');

        function openModule(mainName, techName) {
            grid.classList.add('hidden'); 
            stage.style.display = 'block'; 
            backBtn.classList.remove('hidden'); 
            
            title.innerText = mainName;
            title.classList.add('active-title');
            subTitle.innerText = techName;

            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        }

        function goHome() {
            grid.classList.remove('hidden');
            stage.style.display = 'none';
            backBtn.classList.add('hidden');
            
            title.innerText = 'Ol√°, Guilherme';
            title.classList.remove('active-title');
            subTitle.innerText = 'Bem-vindo ao Master Control';
            
            stage.src = "about:blank"; 
            document.getElementById('nav-home').classList.add('active');
        }
    </script>
</body>
</html>
